# =================================
# AI Assistant Platform 环境配置文件
# =================================
# 复制此文件为 .env 并修改相应的值

# =================================
# 应用基础配置
# =================================
APP_NAME=AI Assistant Platform
APP_VERSION=1.0.0
DEBUG=false
# ⚠️ 生产环境必须修改此密钥！使用: openssl rand -hex 32
SECRET_KEY=change-this-secret-key-in-production-use-openssl-rand-hex-32

# =================================
# API配置
# =================================
API_V1_PREFIX=/api/v1

# =================================
# 数据库配置
# =================================
# 开发环境示例
DATABASE_URL=postgresql://username:password@localhost:5432/database_name
# Docker环境示例
# DATABASE_URL=postgresql://postgres:your_secure_password@db:5432/ai_assistant
# 生产环境示例
# DATABASE_URL=postgresql://prod_user:secure_password@prod_host:5432/prod_db

DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# =================================
# Redis缓存配置
# =================================
# 本地开发
REDIS_URL=redis://localhost:6379
# Docker环境
# REDIS_URL=redis://redis:6379
# 生产环境（如果有密码）
# REDIS_URL=redis://:password@redis-host:6379

CACHE_TTL=3600

# =================================
# AI服务配置
# =================================
OPENAI_API_KEY=sk-your-openai-api-key-here
DEEPSEEK_API_KEY=your-deepseek-api-key
DEFAULT_AI_MODEL=deepseek-chat

# DeepSeek API配置
DEEPSEEK_API_BASE=https://api.deepseek.com/v1
# 支持的模型列表（可选）
# AVAILABLE_MODELS=gpt-3.5-turbo,gpt-4,claude-3-sonnet

# =================================
# 认证和安全配置
# =================================
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# JWT刷新令牌过期时间（天）
REFRESH_TOKEN_EXPIRE_DAYS=7

# 密码复杂度要求
MIN_PASSWORD_LENGTH=8

# =================================
# 日志配置
# =================================
LOG_LEVEL=INFO
# 可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log

# 是否启用结构化日志（JSON格式）
STRUCTURED_LOGGING=false

# =================================
# 速率限制配置
# =================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# API限流（更严格）
API_RATE_LIMIT_PER_MINUTE=30

# =================================
# 助手和对话配置
# =================================
MAX_ASSISTANTS_PER_USER=50
MAX_CONVERSATIONS_PER_USER=1000
MAX_MESSAGE_LENGTH=10000

# 对话历史保留天数
CONVERSATION_RETENTION_DAYS=90

# =================================
# 文件上传配置
# =================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=txt,pdf,doc,docx,md
UPLOAD_DIR=uploads

# =================================
# 向量数据库配置（可选）
# =================================
# 如果使用向量搜索功能
VECTOR_DB_URL=
EMBEDDING_MODEL=text-embedding-ada-002
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# =================================
# CORS配置
# =================================
# 开发环境：允许所有来源
CORS_ORIGINS=*
# 生产环境：指定具体域名
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =================================
# 电子邮件配置（可选）
# =================================
# SMTP服务器配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true

# 邮件发送者信息
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=AI Assistant Platform

# =================================
# 外部服务配置（可选）
# =================================
# Google Analytics（如果需要）
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Sentry错误监控（如果需要）
# SENTRY_DSN=https://your-sentry-dsn

# =================================
# 开发环境特定配置
# =================================
# 是否启用热重载
HOT_RELOAD=true

# 是否显示详细错误信息
SHOW_ERROR_DETAILS=true

# 是否启用API文档
ENABLE_DOCS=true

# =================================
# 性能配置
# =================================
# 工作进程数量（生产环境）
WORKERS=4

# 每个进程的连接数
WORKER_CONNECTIONS=1000

# =================================
# 安全标头配置
# =================================
# 是否启用安全标头
ENABLE_SECURITY_HEADERS=true

# Content Security Policy
# CSP_POLICY=default-src 'self'

# =================================
# 监控和健康检查
# =================================
# 健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=30

# 是否启用Prometheus指标
ENABLE_METRICS=false

# =================================
# 备份配置（生产环境）
# =================================
# 自动备份间隔（小时）
AUTO_BACKUP_INTERVAL=24

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 备份存储路径
BACKUP_DIR=backups